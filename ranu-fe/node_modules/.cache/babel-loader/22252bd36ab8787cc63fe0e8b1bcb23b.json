{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/lpsp/Desktop/Aplica\\xE7\\xF5es Inform\\xE1ticas em Engenharia Biom\\xE9dica/TP/Vers\\xE3o Github/ranu-fe/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      alert: {\n        show: false,\n        message: ''\n      },\n      tecnico: {},\n      lista_bebes: [],\n      add_bebes: [],\n      edit_bebe: [],\n      newNascimento: {},\n      add: false,\n      edit: false\n    };\n  },\n  methods: {\n    registerNascimento: function registerNascimento() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var valid, newNascimento, res;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                valid = _this.$refs.addForm.validate();\n\n                if (!valid) {\n                  _context.next = 27;\n                  break;\n                }\n\n                _context.prev = 2;\n                newNascimento = new FormData();\n                newNascimento.append(\"numero\", _this.add_bebes.numero);\n                newNascimento.append(\"nseq\", _this.add_bebes.nseq);\n                newNascimento.append(\"processo\", _this.add_bebes.processo);\n                newNascimento.append(\"dta_nascimento\", _this.add_bebes.dta_nascimento);\n                newNascimento.append(\"gestacao\", _this.add_bebes.gestacao);\n                newNascimento.append(\"peso\", _this.add_bebes.peso);\n                newNascimento.append(\"sexo\", _this.add_bebes.sexo);\n                newNascimento.append(\"purperio\", _this.add_bebes.purperio);\n                newNascimento.append(\"local_nasc\", _this.add_bebes.local_nasc);\n                newNascimento.append(\"apgar1\", _this.add_bebes.apgar1);\n                newNascimento.append(\"apgar5\", _this.add_bebes.apgar5);\n                _context.next = 17;\n                return _this.axios.post(\"http://localhost:3000/nascimento\", {\n                  newNascimento: newNascimento\n                });\n\n              case 17:\n                res = _context.sent;\n\n                _this.lista_bebes.push(res.data.nascimento);\n\n                _this.$refs.addForm.reset();\n\n                _this.add = false;\n                _this.alert = {\n                  show: true,\n                  type: 'success',\n                  message: res.data.message\n                };\n                _context.next = 27;\n                break;\n\n              case 24:\n                _context.prev = 24;\n                _context.t0 = _context[\"catch\"](2);\n                console.log(_context.t0);\n\n              case 27:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[2, 24]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA;EACAA;IAAA;MACAC;QAAAC;QAAAC;MAAA,CADA;MAEAC,WAFA;MAGAC,eAHA;MAIAC,aAJA;MAKAC,aALA;MAMAC,iBANA;MAOAC,UAPA;MAQAC;IARA;EAAA,CADA;EAYAC;IACAC,kBADA,gCACA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAC,KADA,GACA,8BADA;;gBAAA,KAEAA,KAFA;kBAAA;kBAAA;gBAAA;;gBAAA;gBAKAL,aALA,GAKA,cALA;gBAMAA;gBACAA;gBACAA;gBACAA;gBACAA;gBACAA;gBACAA;gBACAA;gBACAA;gBACAA;gBACAA;gBAhBA;gBAAA,OAmBA;kBAAAA;gBAAA,EAnBA;;cAAA;gBAmBAM,GAnBA;;gBAqBA;;gBACA;;gBACA;gBACA;kBACAZ,UADA;kBAEAa,eAFA;kBAGAZ;gBAHA;gBAxBA;gBAAA;;cAAA;gBAAA;gBAAA;gBA8BAa;;cA9BA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAmCA;EApCA;AAZA","names":["data","alert","show","message","tecnico","lista_bebes","add_bebes","edit_bebe","newNascimento","add","edit","methods","registerNascimento","valid","res","type","console"],"sourceRoot":"src/views","sources":["Registo.vue"],"sourcesContent":["<template>\r\n<v-container>\r\n  <v-app-bar app color=\"primary\" dark>\r\n    <v-tool-title>Hospital dos Bombados</v-tool-title>\r\n  </v-app-bar>\r\n    <v-alert text v-model=\"alert.show\" :type=\"alert.type\" dismissible>{{alert.message}}\r\n    </v-alert>\r\n\r\n    <h1 class=\"font-weight-light\" >Novo Registo</h1>\r\n\r\n<v-simple-table></v-simple-table>\r\n<v-row>\r\n    <v-col cols=\"12\" md=\"6\">\r\n      <v-form class=\"ma-3\" @submit.prevent=\"registerNascimento()\" ref=\"addForm\"> \r\n    \r\n     <v-text-field v-model=\"add_bebes.nseq\" label=\"Número de Seq\" required>\r\n    </v-text-field>\r\n    <v-text-field v-model=\"add_bebes.processo\" label=\"Número de Processo\" required>\r\n        </v-text-field>\r\n        <v-text-field v-model=\"add_bebes.nome\" label=\"Nome\" required>\r\n        </v-text-field>\r\n        <v-text-field v-model=\"add_bebes.dta_nascimento\" label=\"Data de Nascimento\" required>\r\n        </v-text-field>\r\n        <v-text-field  v-model=\"add_bebes.hora\" label=\"Hora\" required>\r\n        </v-text-field>\r\n        <v-text-field v-model=\"add_bebes.gestacao\" label=\"Gestação\" required>\r\n        </v-text-field>\r\n        <v-text-field v-model=\"add_bebes.peso\"  label=\"Peso\" required>\r\n        </v-text-field> \r\n        <v-text-field v-model=\"add_bebes.sexo\" label=\"Sexo\" required> \r\n        </v-text-field>\r\n        <v-text-field v-model=\"add_bebes.purperio\"  label=\"Purpério\" required>\r\n        </v-text-field>\r\n        <v-text-field v-model=\"add_bebes.local_nasc\"  label=\"Local de Nascimento\" required>\r\n        </v-text-field>\r\n        <v-text-field v-model=\"add_bebes.apgar1\"  label=\"APGAR1\" required>\r\n        </v-text-field>\r\n        <v-text-field v-model=\"add_bebes.apgar5\"  label=\"APGAR5\" required>\r\n        </v-text-field>\r\n\r\n\r\n\r\n<v-btn block class=\"success mt-3\" type=\"submit\">Submeter</v-btn>\r\n\r\n</v-form>\r\n </v-col>\r\n</v-row>\r\n</v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default ({\r\n    data: () => ({\r\n        alert: { show: false, message: ''}, \r\n        tecnico: {},\r\n        lista_bebes:[],\r\n        add_bebes: [],\r\n        edit_bebe: [],\r\n        newNascimento: {},\r\n        add: false,\r\n        edit: false\r\n\r\n    }),\r\n    methods: {\r\n        async registerNascimento() {\r\n            let valid= this.$refs.addForm.validate();\r\n            if (valid) {\r\n              ///this.add_bebes.id = this.tecnico.id\r\n              try {\r\n                const newNascimento = new FormData();\r\n                newNascimento.append(\"numero\", this.add_bebes.numero);\r\n                newNascimento.append(\"nseq\", this.add_bebes.nseq);\r\n                newNascimento.append(\"processo\", this.add_bebes.processo);\r\n                newNascimento.append(\"dta_nascimento\", this.add_bebes.dta_nascimento);\r\n                newNascimento.append(\"gestacao\", this.add_bebes.gestacao);\r\n                newNascimento.append(\"peso\", this.add_bebes.peso);\r\n                newNascimento.append(\"sexo\", this.add_bebes.sexo);\r\n                newNascimento.append(\"purperio\", this.add_bebes.purperio);\r\n                newNascimento.append(\"local_nasc\", this.add_bebes.local_nasc);\r\n                newNascimento.append(\"apgar1\", this.add_bebes.apgar1);\r\n                newNascimento.append(\"apgar5\", this.add_bebes.apgar5);\r\n                \r\n\r\n                const res = await this.axios.post(\"http://localhost:3000/nascimento\", { newNascimento\r\n                });\r\n                this.lista_bebes.push(res.data.nascimento);\r\n                this.$refs.addForm.reset();\r\n                this.add = false;\r\n                this.alert = {\r\n                  show: true,\r\n                  type: 'success',\r\n                  message: res.data.message\r\n                };\r\n        } catch (error) {\r\n          console.log(error);\r\n\r\n        }\r\n\r\n      }\r\n    }\r\n  }\r\n})\r\n\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}